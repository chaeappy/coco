<!--1. 메뉴 선택시 선택창으로 inputMap 전송-->
<!--2. 수량 선택버튼 (1~10+) 10이상 수기입력-->
<!--3. 메뉴 및 수량 실시간 금액합산-->
<!--4. 페이지 뒤로 버튼-->
<!--5. 로그아웃 버튼-->
<!--6. 홈 버튼-->

<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <link th:href="@{/img/logo.png}" />
    <link href="/css/orders/orderForm.css" rel="stylesheet" type="text/css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body>
<div class="container">
    <div id="div_left">
    <table>
        <thead>
            <tr>
                <td>음료</td>
                <td>가격</td>
                <td>#</td>
            </tr>
        </thead>
        <tbody>

            <tr th:each="drink : ${menus}">
                <td th:id="${drink.name}" th:text="${drink.name}"></td>
                <td th:text="${drink.price}"></td>
                <td>
                    <input type="hidden" th:name="pk" th:value="${drink.pk}"/>
                    <input type="submit" value="선택" th:onclick="'javascript:addInput(\''+ ${drink.pk} +'\');'"/>
                </td>
            </tr>
        </tbody>
    </table>
    </div>
    <div id="div_right">
        <table>

        </table>
    </div>

</div> <!-- /container -->

</body>
<script type="text/javascript">
    function addInput(text) {
        var id = text;

        $.ajax({
            url: "/orders/orderForm",
            data: id,
            dataType: "text",
            contentType: "text/plain; charset=utf-8;",
            type: "POST",
            success: function(data) {
<!--            현재 코드는 정상적으로 리스트에 쌓여짐. 실행오류 원인이 ajax인가?-->
                if (data != 0){
                    alert(data);
<!--                    $.ajax({-->
<!--                        url: "/orders/inputForm.html",-->
<!--                        dataType: "html",-->
<!--                        type: "post",-->
<!--                        data: data,-->
<!--                        success: function(result) {-->
<!--                            $("#div_right").html(result);-->
<!--                        }-->
<!--                    });-->
                } else {
                    alert(" 실패");
                }
            }
        });
    }

</script>
</html>